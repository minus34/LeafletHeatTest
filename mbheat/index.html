<!DOCTYPE html>
<html>
<head>
    <title>MB2011 Density Test</title>
    <link rel="stylesheet" href="dist/leaflet.css" />
    <script src="dist/leaflet.js"></script>
		<script type="text/javascript" src="dist/webgl-heatmap.js"></script>
		<script type="text/javascript" src="dist/webgl-heatmap-leaflet.js"></script>
		<script src="mbpoints2.js"></script>
		<style>
        #map { width: 1280px; height: 900px; }
        body { font: 16px/1.4 "Helvetica Neue", Arial, sans-serif; }
        .ghbtns { position: relative; top: 4px; margin-left: 5px; }
        a { color: #0077ff; }
    </style>

</head>
<body>

<!-- <p>
    A 10,000-point demo of <a href="https://github.com/Leaflet/Leaflet.heat">Leaflet.heat</a>, a tiny and fast Leaflet heatmap plugin.
    <iframe class="ghbtns" src="http://ghbtns.com/github-btn.html?user=Leaflet&amp;repo=Leaflet.heat&amp;type=watch&amp;count=true"
  allowtransparency="true" frameborder="0" scrolling="0" width="90" height="20"></iframe>
</p>
 -->
<div id="map"></div>

<!-- <script src="node_modules/simpleheat/simpleheat.js"></script>
<script src="../src/HeatLayer.js"></script> -->

<script>

	var map = L.map('map').setView([-28.5, 135], 5);

	var tiles = L.tileLayer('http://{s}.tiles.mapbox.com/v3/{id}/{z}/{x}/{y}.png', {
			attribution: '<a href="https://www.mapbox.com/about/maps/">Terms and Feedback</a>',
			id: 'examples.map-20v6611k'
	}).addTo(map);

<!-- 	var heat = L.heatLayer(mbpoints).addTo(map);
 -->
 
 L.control.scale().addTo(map);
	
	//custom size for this example, and autoresize because map style has a percentage width
	var heatmap = new L.TileLayer.WebGLHeatMap({opacity:0.5, autoresize: true}); 
	
	// dataPoints is an array of arrays: [[lat, lng, intensity]...]
	//var dataPoints = [[44.6674, -63.5703, 37], [44.6826, -63.7552, 34], [44.6325, -63.5852, 41], [44.6467, -63.4696, 67], [44.6804, -63.487, 64], [44.6622, -63.5364, 40], [44.603, - 63.743, 52] ...];
	//for (var i = 0, len = dataPoints.length; i < len; i++) {
	//	var point = dataPoints[i];
	//	heatmap.addDataPoint(point[0],
	//		 point[1],
	//		 point[2]);
	//}
		
	heatmap.setData(mbpoints)
	
	// alternatively, you can skip the for loop and add the whole dataset with heatmap.setData(dataPoints)
	
	map.addLayer(heatmap);
 
 
 
 
	</script>

</body>
</html>
